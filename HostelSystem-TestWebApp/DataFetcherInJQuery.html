<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />
</head>
<body>
    <script src="Scripts/jquery-1.9.1.js"></script>
    <!--<script src="Scripts/i18n/grid.locale-pl.js"></script>-->
    <script src="Scripts/i18n/grid.locale-en.js"></script>
    <script src="Scripts/jquery.jqGrid.js"></script>
    <table id="list2"></table>
    <div id="pager2"></div>
    <script>
        jQuery("#list2").jqGrid({
            url: "http://localhost:53007/api/Reservations",
            datatype: "json",
            colNames: ['Code', 'CreationDate', 'Price', 'CheckInDate', 'CheckOutDate', 'CurrencyCode', 'ID', 'Provision', 'Source'],
            colModel: [
                { name: 'Code', index: 'Code', width: 55 },
                { name: 'CreationDate', index: 'CreationDate', width: 180 },
                { name: 'Price', index: 'Price', width: 100 },
                { name: 'CheckInDate', index: 'CheckInDate', width: 180, align: "right" },
                { name: 'CheckOutDate', index: 'CheckOutDate', width: 180, align: "right" },
                { name: 'CurrencyCode', index: 'CurrencyCode', width: 180, align: "right" },
                { name: 'ID', index: 'ID', width: 80, align: "right" },

                { name: 'Provision', index: 'Provision', width: 150, sortable: false },
                { name: 'Source', index: 'Source', width: 150, sortable: false }
            ],
            /* Glory to StackOverflow https://stackoverflow.com/questions/5018177/jqgrid-not-displaying-json-data */
            loadonce: true,
            jsonReader: {
                repeatitems: false,
                root: function (obj) { return obj; },
                page: function (obj) { return 1; },
                total: function (obj) { return 1; },
                records: function (obj) { return obj.length; }
            },
            rowNum: 10,
            rowList: [10, 20, 30],
            pager: '#pager2',
            sortname: 'Code',
            viewrecords: true,
            sortorder: "desc",
            caption: "Reservation data"
        });
        //jQuery("#list2").jqGrid('navGrid', '#pager2', { edit: false, add: false, del: false });
    </script>
</body>
</html>
<!--
    url: 'server.php?q=2',
-->